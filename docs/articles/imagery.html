<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Working with imagery • mapSpain</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Working with imagery">
<meta property="og:description" content="mapSpain">
<meta property="og:image" content="https://dieghernan.github.io/mapSpain/logo.png">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:creator" content="@dhernangomez">
<meta name="twitter:site" content="@dhernangomez">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-PWKD479RCT"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-PWKD479RCT');
</script>
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">mapSpain</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Soon on CRAN">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/mapSpain.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/imagery.html">Working with imagery</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
<li>
  <a href="../authors.html">Authors</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/dieghernan/mapSpain/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://dieghernan.github.io/">
    <span class="fas fa fas fa-blog fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="imagery_files/accessible-code-block-0.0.1/empty-anchor.js"></script><link href="imagery_files/anchor-sections-1.0/anchor-sections.css" rel="stylesheet">
<script src="imagery_files/anchor-sections-1.0/anchor-sections.js"></script><script src="imagery_files/htmlwidgets-1.5.2/htmlwidgets.js"></script><script src="imagery_files/jquery-1.12.4/jquery.min.js"></script><link href="imagery_files/leaflet-1.3.1/leaflet.css" rel="stylesheet">
<script src="imagery_files/leaflet-1.3.1/leaflet.js"></script><link href="imagery_files/leafletfix-1.0.0/leafletfix.css" rel="stylesheet">
<script src="imagery_files/Proj4Leaflet-1.0.1/proj4-compressed.js"></script><script src="imagery_files/Proj4Leaflet-1.0.1/proj4leaflet.js"></script><link href="imagery_files/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet">
<script src="imagery_files/leaflet-binding-2.0.3/leaflet.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Working with imagery</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/dieghernan/mapSpain/blob/master/vignettes/imagery.Rmd"><code>vignettes/imagery.Rmd</code></a></small>
      <div class="hidden name"><code>imagery.Rmd</code></div>

    </div>

    
    
<p><code>mapSpain</code> provides a powerful interface for working with imagery. <code>mapSpain</code> can download static files as <code>.png</code> or<code>jpeg</code> files (depending on the Web Map Service) and use them along your shapefiles.</p>
<p><code>mapSpain</code> also includes a plugin for <strong>R</strong> <a href="https://rstudio.github.io/leaflet/">leaflet</a> package, that allows you to include several basemaps on your interactive maps.</p>
<p>The services are implemented via the leaflet plugin <a href="dieghernan.github.io/leaflet-providersESP/">leaflet-providersESP</a>. You can check a display of each provider on the previous link.</p>
<div id="static-tiles" class="section level2">
<h2 class="hasAnchor">
<a href="#static-tiles" class="anchor"></a>Static tiles</h2>
<p>An example of how you can include several tiles to create a static map. We focus here on the earthquakes of the last 365 days in the island of Tenerife. Note that the tile is actively maintained so the final plot based on a static file would vary depending on the date.</p>
<p>In this example, it is important to set <code>moveCAN = FALSE</code>, otherwise Tenerife would be geographically displaced while the imagery won’t.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dieghernan.github.io/mapSpain/">mapSpain</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/sf/">sf</a></span><span class="op">)</span>
<span class="co">#&gt; Linking to GEOS 3.8.0, GDAL 3.0.4, PROJ 6.3.1</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/riatelab/cartography/">cartography</a></span><span class="op">)</span>

<span class="va">Tenerife</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/esp_get_nuts.html">esp_get_nuts</a></span><span class="op">(</span>region <span class="op">=</span> <span class="st">"Tenerife"</span>, moveCAN <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>
<span class="va">Tenerife</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_transform.html">st_transform</a></span><span class="op">(</span><span class="va">Tenerife</span>, <span class="fl">4083</span><span class="op">)</span>


<span class="va">Base</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/esp_getTiles.html">esp_getTiles</a></span><span class="op">(</span><span class="va">Tenerife</span>, <span class="st">"MDT.Relieve"</span>, bbox_expand <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span>
<span class="va">Earthquake</span> <span class="op">&lt;-</span>
  <span class="fu"><a href="../reference/esp_getTiles.html">esp_getTiles</a></span><span class="op">(</span><span class="va">Tenerife</span>, <span class="st">"Geofisica.Terremotos365dias"</span>, bbox_expand <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/pkg/cartography/man/tilesLayer.html">tilesLayer</a></span><span class="op">(</span><span class="va">Base</span><span class="op">)</span>
<span class="fu"><a href="https://r-spatial.github.io/sf/reference/plot.html">plot</a></span><span class="op">(</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_geometry.html">st_geometry</a></span><span class="op">(</span><span class="va">Tenerife</span><span class="op">)</span>,
     col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/grDevices/adjustcolor.html">adjustcolor</a></span><span class="op">(</span><span class="st">"red"</span>, alpha.f <span class="op">=</span> <span class="fl">0.4</span><span class="op">)</span>,
     add <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/pkg/cartography/man/tilesLayer.html">tilesLayer</a></span><span class="op">(</span><span class="va">Earthquake</span>, add <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p><img src="imagery_files/figure-html/static1-1.png" width="700.8"></p>
<p>Static tiles could be loaded with or without an alpha value, that controls the transparency of the object:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">Madrid</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/esp_get_ccaa.html">esp_get_ccaa</a></span><span class="op">(</span><span class="st">"Madrid"</span>, epsg <span class="op">=</span> <span class="fl">3857</span><span class="op">)</span>

<span class="co"># Example without transparency</span>

<span class="va">BG</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/esp_getTiles.html">esp_getTiles</a></span><span class="op">(</span><span class="va">Madrid</span>, <span class="st">"IGNBase.Gris"</span><span class="op">)</span>
<span class="va">ADIF.opaque</span> <span class="op">&lt;-</span>
  <span class="fu"><a href="../reference/esp_getTiles.html">esp_getTiles</a></span><span class="op">(</span><span class="va">Madrid</span>, <span class="st">"RedTransporte.Ferroviario"</span>,
               transparent <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/pkg/cartography/man/tilesLayer.html">tilesLayer</a></span><span class="op">(</span><span class="va">BG</span><span class="op">)</span>
<span class="fu"><a href="https://r-spatial.github.io/sf/reference/plot.html">plot</a></span><span class="op">(</span>
  <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_geometry.html">st_geometry</a></span><span class="op">(</span><span class="va">Madrid</span><span class="op">)</span>,
  col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/grDevices/adjustcolor.html">adjustcolor</a></span><span class="op">(</span><span class="st">"red"</span>, alpha.f <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span>,
  add <span class="op">=</span> <span class="cn">TRUE</span>,
  border <span class="op">=</span> <span class="cn">NA</span>
<span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/pkg/cartography/man/tilesLayer.html">tilesLayer</a></span><span class="op">(</span><span class="va">ADIF.opaque</span>, add <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p><img src="imagery_files/figure-html/static2-1.png" width="700.8"></p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="co"># Example with transparency</span>

<span class="va">ADIF.alpha</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/esp_getTiles.html">esp_getTiles</a></span><span class="op">(</span><span class="va">Madrid</span>,
                           <span class="st">"RedTransporte.Ferroviario"</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/pkg/cartography/man/tilesLayer.html">tilesLayer</a></span><span class="op">(</span><span class="va">BG</span><span class="op">)</span>
<span class="fu"><a href="https://r-spatial.github.io/sf/reference/plot.html">plot</a></span><span class="op">(</span>
  <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_geometry.html">st_geometry</a></span><span class="op">(</span><span class="va">Madrid</span><span class="op">)</span>,
  col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/grDevices/adjustcolor.html">adjustcolor</a></span><span class="op">(</span><span class="st">"red"</span>, alpha.f <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span>,
  add <span class="op">=</span> <span class="cn">TRUE</span>,
  border <span class="op">=</span> <span class="cn">NA</span>
<span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/pkg/cartography/man/tilesLayer.html">tilesLayer</a></span><span class="op">(</span><span class="va">ADIF.alpha</span>, add <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p><img src="imagery_files/figure-html/static2-2.png" width="700.8"></p>
<p>Another nice feature is the ability of masking the tiles, so more advanced maps can be plotted:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">Asturias</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/esp_get_ccaa.html">esp_get_ccaa</a></span><span class="op">(</span><span class="st">"Asturias"</span>, epsg <span class="op">=</span> <span class="fl">3857</span><span class="op">)</span>

<span class="va">Basemap</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/esp_getTiles.html">esp_getTiles</a></span><span class="op">(</span><span class="va">Asturias</span>, <span class="st">"IDErioja"</span>, bbox_expand <span class="op">=</span> <span class="fl">0.3</span><span class="op">)</span>

<span class="va">Mask</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/esp_getTiles.html">esp_getTiles</a></span><span class="op">(</span><span class="va">Asturias</span>, <span class="st">"PNOA"</span>, mask <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>


<span class="fu"><a href="https://rdrr.io/pkg/cartography/man/tilesLayer.html">tilesLayer</a></span><span class="op">(</span><span class="va">Basemap</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/pkg/cartography/man/tilesLayer.html">tilesLayer</a></span><span class="op">(</span><span class="va">Mask</span>, add <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p><img src="imagery_files/figure-html/static3-1.png" width="700.8"></p>
</div>
<div id="dynamic-maps-with-leaflet" class="section level2">
<h2 class="hasAnchor">
<a href="#dynamic-maps-with-leaflet" class="anchor"></a>Dynamic maps with Leaflet</h2>
<p><code>mapSpain</code> provides a plugin to be used with the <code>leaflet</code> package. Here you can find the leaflet versions of some of the previous examples:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://rstudio.github.io/leaflet/">leaflet</a></span><span class="op">)</span>

<span class="va">Tenerife.leaf</span> <span class="op">&lt;-</span>
  <span class="fu"><a href="../reference/esp_get_nuts.html">esp_get_nuts</a></span><span class="op">(</span>region <span class="op">=</span> <span class="st">"Tenerife"</span>,
               epsg <span class="op">=</span> <span class="fl">4326</span>,
               moveCAN <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>


<span class="va">bbox</span> <span class="op">&lt;-</span>
  <span class="fu"><a href="https://rdrr.io/r/base/double.html">as.double</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_bbox.html">st_bbox</a></span><span class="op">(</span><span class="va">Tenerife.leaf</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1</span>, <span class="op">-</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span>

<span class="co"># Start leaflet</span>
<span class="va">m</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/leaflet/man/leaflet.html">leaflet</a></span><span class="op">(</span><span class="va">Tenerife.leaf</span>,
             width <span class="op">=</span> <span class="st">"100%"</span>,
             options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/leaflet/man/leaflet.html">leafletOptions</a></span><span class="op">(</span>minZoom <span class="op">=</span> <span class="fl">9</span>,
                                      maxZoom <span class="op">=</span> <span class="fl">18</span><span class="op">)</span><span class="op">)</span>

<span class="co"># Add layers</span>
<span class="va">m</span> <span class="op">&lt;-</span> <span class="va">m</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/addProviderEspTiles.html">addProviderEspTiles</a></span><span class="op">(</span><span class="st">"MDT.Relieve"</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/leaflet/man/map-layers.html">addPolygons</a></span><span class="op">(</span>color <span class="op">=</span> <span class="cn">NA</span>,
              fillColor <span class="op">=</span> <span class="st">"red"</span>,
              group <span class="op">=</span> <span class="st">"Polygon"</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/addProviderEspTiles.html">addProviderEspTiles</a></span><span class="op">(</span><span class="st">"Geofisica.Terremotos365dias"</span>,
                      group <span class="op">=</span> <span class="st">"Earthquakes"</span><span class="op">)</span>

<span class="co"># Add additional options</span>
<span class="va">m</span>  <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/leaflet/man/addLayersControl.html">addLayersControl</a></span><span class="op">(</span>
    overlayGroups <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Polygon"</span>, <span class="st">"Earthquakes"</span><span class="op">)</span>,
    options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/leaflet/man/addLayersControl.html">layersControlOptions</a></span><span class="op">(</span>collapsed <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>
  <span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/pkg/leaflet/man/map-methods.html">setMaxBounds</a></span><span class="op">(</span><span class="va">bbox</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, <span class="va">bbox</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span>, <span class="va">bbox</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span>, <span class="va">bbox</span><span class="op">[</span><span class="fl">4</span><span class="op">]</span><span class="op">)</span></code></pre></div>
<div id="htmlwidget-57fcb14f6949b3538ccd" style="width:100%;height:433.127317676143px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-57fcb14f6949b3538ccd">{"x":{"options":{"minZoom":9,"maxZoom":18,"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["https://servicios.idee.es/wmts/mdt?service=WMTS&request=GetTile&version=1.0.0&Format=image/png&layer=Relieve&style=default&tilematrixset=GoogleMapsCompatible&TileMatrix={z}&TileRow={y}&TileCol={x}",null,null,{"errorTileUrl":"","noWrap":false,"detectRetina":false,"attribution":"<a href='http://www.ign.es/'>Infraestructura de Datos Espaciales de Espa&ntilde;a (IDEE)<\/a>"}]},{"method":"addPolygons","args":[[[[{"lng":[-16.12726,-16.120392,-16.127301,-16.129207,-16.126611,-16.135322,-16.145569,-16.154907,-16.166591,-16.179145,-16.185881,-16.196853,-16.235041,-16.244957,-16.246271,-16.249758,-16.258103,-16.269669,-16.28006,-16.307642,-16.320454,-16.332327,-16.337434,-16.359948,-16.369377,-16.366399,-16.362953,-16.360016,-16.362517,-16.383374,-16.388019,-16.407495,-16.408991,-16.408741,-16.409646,-16.424063,-16.423439,-16.427685,-16.42939,-16.425825,-16.431675,-16.433919,-16.426756,-16.426646,-16.432873,-16.439766,-16.44346,-16.448529,-16.450682,-16.462636,-16.463383,-16.471186,-16.48082,-16.489729,-16.493255,-16.503454,-16.507818,-16.520768,-16.524215,-16.531623,-16.53444,-16.540942,-16.540669,-16.545102,-16.549654,-16.558204,-16.597628,-16.625069,-16.632461,-16.638414,-16.644572,-16.650213,-16.663658,-16.667349,-16.68125,-16.702681,-16.707236,-16.705729,-16.712449,-16.736235,-16.733352,-16.738459,-16.757767,-16.76236,-16.772821,-16.802011,-16.808698,-16.81938,-16.835788,-16.840164,-16.844999,-16.838485,-16.841296,-16.849562,-16.852604,-16.859725,-16.862515,-16.871763,-16.879703,-16.881829,-16.894165,-16.897853,-16.905653,-16.920886,-16.923716,-16.916232,-16.903928,-16.895337,-16.881097,-16.872188,-16.86883,-16.861305,-16.848964,-16.829803,-16.810021,-16.797436,-16.793016,-16.768024,-16.762105,-16.751228,-16.738733,-16.733091,-16.726729,-16.718922,-16.703848,-16.695946,-16.694307,-16.684181,-16.677522,-16.673734,-16.659583,-16.6525,-16.643498,-16.636582,-16.624347,-16.602983,-16.59752,-16.588352,-16.570713,-16.560929,-16.554079,-16.523208,-16.503174,-16.496039,-16.487697,-16.474799,-16.471156,-16.473424,-16.465863,-16.45764,-16.455549,-16.455518,-16.444811,-16.443352,-16.430587,-16.420522,-16.410894,-16.383959,-16.365616,-16.344909,-16.335365,-16.332404,-16.325524,-16.320098,-16.315008,-16.306894,-16.298955,-16.289722,-16.284923,-16.274479,-16.270769,-16.258103,-16.242808,-16.22416,-16.192931,-16.172158,-16.157964,-16.136487,-16.133913,-16.12726],"lat":[28.570296,28.555167,28.546676,28.536953,28.532817,28.533819,28.521773,28.522673,28.518755,28.5105,28.509592,28.498839,28.485833,28.474245,28.460084,28.455846,28.452827,28.447496,28.434466,28.409877,28.401908,28.401025,28.396286,28.378595,28.354086,28.33967,28.330202,28.318531,28.304689,28.284544,28.264273,28.233909,28.230636,28.227922,28.226237,28.205308,28.193653,28.188208,28.175385,28.167003,28.163493,28.15726,28.151628,28.148656,28.142555,28.142277,28.13554,28.134127,28.128383,28.120124,28.113078,28.108867,28.096536,28.089967,28.079317,28.07629,28.067599,28.058685,28.052134,28.049005,28.0437,28.041802,28.03126,28.026085,28.025742,28.031155,28.027754,28.017833,28.009984,28.00896,28.003943,28.006924,28.008396,28.00425,27.99829,28.005354,28.010509,28.027738,28.04649,28.054503,28.066169,28.087556,28.101025,28.109537,28.113896,28.156515,28.175026,28.1821,28.2075,28.226936,28.239535,28.257242,28.263483,28.268041,28.273147,28.275804,28.287627,28.29871,28.302988,28.313188,28.322638,28.331818,28.337913,28.341972,28.35186,28.361304,28.364736,28.363691,28.368258,28.371629,28.375636,28.376423,28.387274,28.39234,28.377495,28.377567,28.374843,28.373695,28.375405,28.371632,28.380411,28.381564,28.377014,28.387043,28.383884,28.387874,28.39488,28.391302,28.393287,28.400304,28.400824,28.395689,28.398108,28.394791,28.396099,28.394311,28.399796,28.39865,28.408298,28.412218,28.418368,28.4176,28.425142,28.43898,28.43774,28.443233,28.448358,28.454254,28.459033,28.459702,28.46603,28.469139,28.475729,28.480255,28.487358,28.517498,28.52741,28.546079,28.546224,28.55604,28.557279,28.5717,28.577537,28.577748,28.571707,28.573321,28.569756,28.571413,28.575835,28.572269,28.576436,28.570687,28.571174,28.565775,28.573842,28.584228,28.58809,28.582362,28.574999,28.570296]}],[{"lng":[-16.759891,-16.76125,-16.765424,-16.761834,-16.759891],"lat":[28.380438,28.376413,28.378954,28.382672,28.380438]}],[{"lng":[-16.157755,-16.158624,-16.162743,-16.161364,-16.158802,-16.157755],"lat":[28.593144,28.589527,28.59212,28.594775,28.595403,28.593144]}]]],null,"Polygon",{"interactive":true,"className":"","stroke":true,"color":null,"weight":5,"opacity":0.5,"fill":true,"fillColor":"red","fillOpacity":0.2,"smoothFactor":1,"noClip":false},null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addWMSTiles","args":["https://www.ign.es/wms-inspire/geofisica?",null,"Earthquakes",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"format":"image/png","transparent":"true","attribution":"CC BY 4.0 scne.es. Sistema Geogr&aacute;fico Nacional <a href='http://www.ign.es'>IGN<\/a>","layers":"Ultimos365dias"}]},{"method":"addLayersControl","args":[[],["Polygon","Earthquakes"],{"collapsed":false,"autoZIndex":true,"position":"topright"}]},{"method":"setMaxBounds","args":[27,-17.92,29.6,-15.12]}],"limits":{"lat":[27.99829,28.595403],"lng":[-16.923716,-16.120392]}},"evals":[],"jsHooks":[]}</script><div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">Madrid.leaflet</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/esp_get_ccaa.html">esp_get_ccaa</a></span><span class="op">(</span><span class="st">"Madrid"</span>, epsg <span class="op">=</span> <span class="fl">4326</span><span class="op">)</span>

<span class="va">m2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/leaflet/man/leaflet.html">leaflet</a></span><span class="op">(</span><span class="va">Madrid.leaflet</span>, width <span class="op">=</span> <span class="st">"100%"</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/addProviderEspTiles.html">addProviderEspTiles</a></span><span class="op">(</span><span class="st">"IGNBase.Gris"</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/leaflet/man/map-layers.html">addPolygons</a></span><span class="op">(</span>color <span class="op">=</span> <span class="cn">NA</span>,
              fillColor <span class="op">=</span> <span class="st">"red"</span>,
              group <span class="op">=</span> <span class="st">"Polygon"</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/addProviderEspTiles.html">addProviderEspTiles</a></span><span class="op">(</span><span class="st">"RedTransporte.Ferroviario"</span>,
                      group <span class="op">=</span> <span class="st">"Railway"</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/leaflet/man/addLayersControl.html">addLayersControl</a></span><span class="op">(</span>overlayGroups <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Polygon"</span>, <span class="st">"Railway"</span><span class="op">)</span><span class="op">)</span>

<span class="co"># Add layer control</span>

<span class="va">m2</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/pkg/leaflet/man/addLayersControl.html">addLayersControl</a></span><span class="op">(</span>
  overlayGroups <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Polygon"</span>, <span class="st">"Railway"</span><span class="op">)</span>,
  options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/leaflet/man/addLayersControl.html">layersControlOptions</a></span><span class="op">(</span>collapsed <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>
<span class="op">)</span></code></pre></div>
<div id="htmlwidget-c55f287cef817e3d4094" style="width:100%;height:433.127317676143px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-c55f287cef817e3d4094">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["https://www.ign.es/wmts/ign-base?service=WMTS&request=GetTile&version=1.0.0&Format=image/jpeg&layer=IGNBase-gris&style=default&tilematrixset=GoogleMapsCompatible&TileMatrix={z}&TileRow={y}&TileCol={x}",null,null,{"errorTileUrl":"","noWrap":false,"detectRetina":false,"attribution":"CC BY 4.0 scne.es. Sistema Geogr&aacute;fico Nacional <a href='http://www.ign.es'>IGN<\/a>"}]},{"method":"addPolygons","args":[[[[{"lng":[-3.067689,-3.076429,-3.084498,-3.088563,-3.096332,-3.094323,-3.09634,-3.073468,-3.071622,-3.057598,-3.052825,-3.062432,-3.08778,-3.095197,-3.11803,-3.140753,-3.149453,-3.157964,-3.161419,-3.162662,-3.167108,-3.167021,-3.177767,-3.179941,-3.177803,-3.188459,-3.189655,-3.198086,-3.211467,-3.240179,-3.254118,-3.257969,-3.265048,-3.267544,-3.272619,-3.275728,-3.286271,-3.291506,-3.302488,-3.311933,-3.326039,-3.334205,-3.344869,-3.360729,-3.377121,-3.378695,-3.374916,-3.377346,-3.384683,-3.392328,-3.394195,-3.403893,-3.408203,-3.409984,-3.421551,-3.425108,-3.430491,-3.445739,-3.447534,-3.454894,-3.456657,-3.467951,-3.473064,-3.47393,-3.483336,-3.487883,-3.492776,-3.499936,-3.505417,-3.511356,-3.515038,-3.517061,-3.521884,-3.51953,-3.531026,-3.550487,-3.589527,-3.595496,-3.609485,-3.615597,-3.6219,-3.63022,-3.636989,-3.631226,-3.630353,-3.636457,-3.659682,-3.665957,-3.677376,-3.696937,-3.711463,-3.743393,-3.748048,-3.757194,-3.778754,-3.804818,-3.80429,-3.811881,-3.814893,-3.834263,-3.845553,-3.864443,-3.875427,-3.868209,-3.874574,-3.867388,-3.859579,-3.852765,-3.840363,-3.836323,-3.832597,-3.826397,-3.821635,-3.80659,-3.798058,-3.786047,-3.782985,-3.764659,-3.760427,-3.768348,-3.76155,-3.753031,-3.754782,-3.740552,-3.730309,-3.726765,-3.739263,-3.744705,-3.740378,-3.734477,-3.732274,-3.727296,-3.721269,-3.722892,-3.71509,-3.709592,-3.700189,-3.688492,-3.684705,-3.680694,-3.667587,-3.66721,-3.662192,-3.650174,-3.647146,-3.636397,-3.638287,-3.620681,-3.623259,-3.61742,-3.6282,-3.609572,-3.604365,-3.607128,-3.613344,-3.615624,-3.607468,-3.655407,-3.664662,-3.667152,-3.670319,-3.677732,-3.678863,-3.681337,-3.683562,-3.686764,-3.691342,-3.704392,-3.705729,-3.708926,-3.712752,-3.717949,-3.722054,-3.728053,-3.735507,-3.739614,-3.741968,-3.748921,-3.77127,-3.777511,-3.781189,-3.799875,-3.806011,-3.806588,-3.81066,-3.817942,-3.833094,-3.840675,-3.851751,-3.853365,-3.866103,-3.876323,-3.883128,-3.912083,-3.917018,-3.925989,-3.930605,-3.938628,-3.948562,-3.950848,-3.956296,-3.955121,-3.953631,-3.952965,-3.952866,-3.974113,-3.991761,-4.008663,-4.025198,-4.026289,-4.023862,-4.025796,-4.041704,-4.05192,-4.05686,-4.062372,-4.066054,-4.072728,-4.075209,-4.08029,-4.08558,-4.086974,-4.095032,-4.100434,-4.102165,-4.104105,-4.11105,-4.113661,-4.120579,-4.124336,-4.127361,-4.1313,-4.132942,-4.143561,-4.149874,-4.14451,-4.165245,-4.169697,-4.172319,-4.179926,-4.1919,-4.20377,-4.203883,-4.204242,-4.210981,-4.218448,-4.226027,-4.231312,-4.249498,-4.260285,-4.262015,-4.270019,-4.286026,-4.294102,-4.306254,-4.308826,-4.306657,-4.309052,-4.322155,-4.334985,-4.341638,-4.348318,-4.345697,-4.358032,-4.357704,-4.356216,-4.37994,-4.378994,-4.385982,-4.383463,-4.384612,-4.397657,-4.400022,-4.427594,-4.434841,-4.434646,-4.437711,-4.449181,-4.47399,-4.49733,-4.514994,-4.517421,-4.521209,-4.536696,-4.550713,-4.573667,-4.573591,-4.579076,-4.574683,-4.565934,-4.560815,-4.559991,-4.566851,-4.569479,-4.556092,-4.55524,-4.547095,-4.529657,-4.537314,-4.540396,-4.544457,-4.546052,-4.538882,-4.534958,-4.529571,-4.526615,-4.526258,-4.520795,-4.51248,-4.505144,-4.499724,-4.488512,-4.472303,-4.467115,-4.464793,-4.46115,-4.455591,-4.455999,-4.452992,-4.452913,-4.453642,-4.460779,-4.457495,-4.443524,-4.439519,-4.440071,-4.442481,-4.421466,-4.413035,-4.402435,-4.366781,-4.356653,-4.34233,-4.331209,-4.320921,-4.325595,-4.323835,-4.324868,-4.330723,-4.339837,-4.338991,-4.339307,-4.334013,-4.329806,-4.320198,-4.325074,-4.319419,-4.316678,-4.323663,-4.323106,-4.326756,-4.321867,-4.321207,-4.320789,-4.327158,-4.323894,-4.30981,-4.289095,-4.281491,-4.282743,-4.278839,-4.289515,-4.290543,-4.282507,-4.272087,-4.262794,-4.244392,-4.213294,-4.176492,-4.161019,-4.172132,-4.167779,-4.173149,-4.170606,-4.160293,-4.145349,-4.136522,-4.132942,-4.12553,-4.123794,-4.111667,-4.096829,-4.09424,-4.095344,-4.081503,-4.07652,-4.069931,-4.05943,-4.053348,-4.046799,-4.045337,-4.042043,-4.039392,-4.036142,-4.032238,-4.021157,-4.01501,-4.012355,-4.007493,-4.002694,-3.989591,-3.984068,-3.979516,-3.979013,-3.97796,-3.979014,-3.974113,-3.96584,-3.962471,-3.965129,-3.946907,-3.942356,-3.951298,-3.9448,-3.936858,-3.937791,-3.929644,-3.927208,-3.921598,-3.919817,-3.904169,-3.902223,-3.898485,-3.895019,-3.89016,-3.886791,-3.883378,-3.88063,-3.880106,-3.869023,-3.858851,-3.847952,-3.844351,-3.83912,-3.835016,-3.828938,-3.82157,-3.80933,-3.780697,-3.770926,-3.769858,-3.767141,-3.766767,-3.765763,-3.758894,-3.755389,-3.753098,-3.748098,-3.747629,-3.745691,-3.742931,-3.738846,-3.7403,-3.730413,-3.725469,-3.721268,-3.715936,-3.70604,-3.700888,-3.695285,-3.687448,-3.683924,-3.679384,-3.675911,-3.672018,-3.666567,-3.663668,-3.655555,-3.652151,-3.650905,-3.650537,-3.648585,-3.64659,-3.64614,-3.646217,-3.644867,-3.634168,-3.632933,-3.619849,-3.61355,-3.610689,-3.60453,-3.601643,-3.599895,-3.598656,-3.594898,-3.591067,-3.589119,-3.582569,-3.578452,-3.569042,-3.557873,-3.550298,-3.543755,-3.539573,-3.536555,-3.537475,-3.540948,-3.533535,-3.527069,-3.509351,-3.495037,-3.487896,-3.48172,-3.475004,-3.449528,-3.432537,-3.427715,-3.426479,-3.434716,-3.438785,-3.431028,-3.429588,-3.425924,-3.421551,-3.407348,-3.405682,-3.402108,-3.400723,-3.397338,-3.396916,-3.3943,-3.396626,-3.400701,-3.418145,-3.416265,-3.416132,-3.41833,-3.416076,-3.41716,-3.421432,-3.435094,-3.437673,-3.447173,-3.451135,-3.445206,-3.444818,-3.449644,-3.458431,-3.459613,-3.442891,-3.44069,-3.44381,-3.440976,-3.441317,-3.448207,-3.470942,-3.471408,-3.466599,-3.470085,-3.475067,-3.470447,-3.478441,-3.477613,-3.490739,-3.49249,-3.50205,-3.503199,-3.502195,-3.502436,-3.504098,-3.509119,-3.511418,-3.502394,-3.497991,-3.460176,-3.449324,-3.446803,-3.444071,-3.44443,-3.451116,-3.450262,-3.448584,-3.446072,-3.444259,-3.441729,-3.439825,-3.438425,-3.434559,-3.436685,-3.459584,-3.462779,-3.468398,-3.455337,-3.447153,-3.440636,-3.427446,-3.425248,-3.421551,-3.415318,-3.405315,-3.399764,-3.396893,-3.393202,-3.389284,-3.386752,-3.385555,-3.383064,-3.374053,-3.363114,-3.365189,-3.363802,-3.347009,-3.34544,-3.339871,-3.324375,-3.316346,-3.314403,-3.322349,-3.324311,-3.335301,-3.321494,-3.329983,-3.330567,-3.328159,-3.313139,-3.29849,-3.286559,-3.284038,-3.287239,-3.2837,-3.296032,-3.289698,-3.284518,-3.2763,-3.249372,-3.241613,-3.232495,-3.232073,-3.221382,-3.200482,-3.198744,-3.201117,-3.195177,-3.199708,-3.198445,-3.172716,-3.155363,-3.142092,-3.130407,-3.135439,-3.142918,-3.139354,-3.149902,-3.152203,-3.148602,-3.143248,-3.14229,-3.153332,-3.153465,-3.178913,-3.181536,-3.180055,-3.181322,-3.181292,-3.180381,-3.181292,-3.184216,-3.186586,-3.18636,-3.184055,-3.192669,-3.194044,-3.197051,-3.194669,-3.194294,-3.182304,-3.173242,-3.169051,-3.152941,-3.142948,-3.127026,-3.112521,-3.10929,-3.097166,-3.098676,-3.087371,-3.088868,-3.079834,-3.081831,-3.079967,-3.088075,-3.08521,-3.084884,-3.077614,-3.076952,-3.067689],"lat":[40.157885,40.156881,40.162894,40.162687,40.15503,40.150445,40.143495,40.131128,40.124339,40.113103,40.099359,40.089244,40.071339,40.06852,40.061398,40.063175,40.065992,40.064449,40.064897,40.081457,40.085576,40.090319,40.091517,40.089084,40.086135,40.082468,40.077157,40.068952,40.061425,40.053799,40.057207,40.051474,40.056187,40.053381,40.053351,40.047609,40.052302,40.052144,40.053888,40.067977,40.078182,40.080753,40.080073,40.075599,40.074127,40.066293,40.05363,40.050569,40.051205,40.047134,40.035458,40.035116,40.037195,40.041291,40.045137,40.045761,40.039099,40.037803,40.047493,40.049372,40.046353,40.041678,40.042107,40.045488,40.044983,40.041968,40.047455,40.045492,40.047063,40.04308,40.043248,40.036441,40.026068,40.021037,40.018183,40.017564,40.012615,40.001363,39.998188,39.993926,39.991499,39.991887,39.98808,39.971165,39.968601,39.965943,39.965724,39.963441,39.960412,39.947434,39.953897,39.940515,39.930009,39.92096,39.910406,39.888013,39.884763,39.885772,39.885742,39.89969,39.902583,39.903503,39.910685,39.917595,39.927924,39.931955,39.933222,39.939029,39.941413,39.9332,39.931809,39.944275,39.946584,39.952496,39.946922,39.945907,39.955371,39.964141,39.958709,39.950786,39.948973,39.95414,39.965394,39.962451,39.964618,39.968848,39.971165,39.97982,39.98102,39.97808,39.985678,39.987727,39.986968,39.997124,40.003782,40.012045,40.019016,40.021523,40.016716,40.0161,40.027809,40.033009,40.036538,40.032506,40.040916,40.042287,40.050232,40.056311,40.061618,40.068921,40.077731,40.083443,40.093534,40.09478,40.093095,40.096464,40.108932,40.12566,40.134027,40.143255,40.141756,40.139128,40.136619,40.13531,40.132235,40.132953,40.132722,40.137408,40.138857,40.140622,40.141661,40.14632,40.147677,40.144834,40.139117,40.135175,40.134053,40.132811,40.139743,40.147058,40.159196,40.175363,40.177131,40.177186,40.169668,40.170577,40.162079,40.162628,40.169214,40.179348,40.187655,40.191222,40.188785,40.190337,40.192389,40.200872,40.203348,40.203228,40.192273,40.196489,40.199101,40.203368,40.206683,40.20995,40.212796,40.211475,40.210378,40.220275,40.235551,40.243871,40.248931,40.249544,40.249671,40.251491,40.253911,40.257696,40.261483,40.265413,40.26517,40.266901,40.255948,40.254218,40.247723,40.246093,40.24341,40.241796,40.244251,40.243748,40.243645,40.246029,40.246001,40.248943,40.248387,40.244792,40.249267,40.264425,40.271756,40.28202,40.288061,40.293128,40.296519,40.286094,40.28202,40.26905,40.268808,40.272492,40.269855,40.276629,40.271879,40.256653,40.24823,40.235872,40.227726,40.219662,40.222509,40.227329,40.231797,40.233532,40.227602,40.238648,40.239897,40.236709,40.252873,40.276168,40.28202,40.308582,40.318301,40.31472,40.301756,40.298566,40.288789,40.284052,40.28202,40.25833,40.259239,40.243106,40.237895,40.233346,40.230814,40.221577,40.216054,40.205419,40.202114,40.199677,40.201672,40.206716,40.213358,40.217196,40.219192,40.218618,40.224266,40.234205,40.240487,40.257298,40.26614,40.276811,40.28202,40.29317,40.310225,40.326779,40.330134,40.341784,40.340449,40.341547,40.344092,40.344833,40.338382,40.335038,40.321142,40.315887,40.315567,40.320715,40.320225,40.320168,40.318396,40.319253,40.31931,40.320787,40.324718,40.32952,40.333053,40.340432,40.343938,40.347627,40.351237,40.379344,40.386194,40.406242,40.409865,40.411031,40.407155,40.411376,40.411466,40.40871,40.410268,40.414448,40.418261,40.423085,40.423005,40.42855,40.431852,40.438235,40.440754,40.448187,40.451794,40.460059,40.459271,40.464807,40.478378,40.501977,40.508556,40.517131,40.525595,40.530947,40.534428,40.547712,40.557144,40.564151,40.588078,40.595479,40.6022,40.608202,40.627779,40.630803,40.628878,40.606329,40.602465,40.605832,40.616344,40.623421,40.63026,40.647868,40.674257,40.681148,40.689853,40.695538,40.716438,40.719047,40.72445,40.730959,40.742715,40.747694,40.756054,40.765317,40.776275,40.788265,40.79387,40.792259,40.790591,40.790133,40.78887,40.783743,40.784119,40.783483,40.781561,40.781147,40.78295,40.784303,40.787863,40.788604,40.785427,40.785903,40.78451,40.78603,40.787374,40.799606,40.805217,40.814687,40.822366,40.837323,40.864208,40.887292,40.893764,40.903296,40.916874,40.927135,40.927003,40.927601,40.929906,40.937834,40.956478,40.956898,40.958788,40.965479,40.968804,40.97111,40.971191,40.972772,40.974422,40.971827,40.978737,40.979614,40.982302,40.98387,40.984147,40.98661,40.985218,40.988059,41.001163,41.012235,41.013658,41.015931,41.018895,41.020783,41.027025,41.027885,41.031615,41.036627,41.037936,41.040524,41.045315,41.049668,41.053595,41.061379,41.062456,41.064986,41.071505,41.076814,41.080046,41.082654,41.08489,41.084954,41.084184,41.08665,41.091955,41.096061,41.097764,41.104629,41.106428,41.107716,41.110525,41.114717,41.117008,41.11834,41.119975,41.121244,41.125626,41.135477,41.143108,41.149005,41.14961,41.151989,41.15441,41.155335,41.154293,41.154129,41.154596,41.158461,41.161373,41.160211,41.15946,41.164349,41.165653,41.165797,41.164993,41.160529,41.155285,41.149619,41.146903,41.139844,41.135978,41.115276,41.094739,41.093531,41.095221,41.081374,41.08414,41.082959,41.066036,41.054114,41.042625,41.041626,41.040183,41.031574,41.027123,41.015785,41.013333,41.010723,41.009035,41.006766,41.004606,41.000234,40.99909,40.995446,40.98752,40.984736,40.982476,40.979413,40.975798,40.974593,40.967241,40.946241,40.933393,40.92369,40.912822,40.909625,40.907093,40.905633,40.90767,40.899579,40.89359,40.890371,40.886569,40.880435,40.875906,40.875828,40.864967,40.861475,40.856632,40.852021,40.850844,40.843421,40.837558,40.823313,40.807847,40.798392,40.797593,40.795458,40.793472,40.791321,40.789191,40.790491,40.788454,40.788057,40.788772,40.781577,40.770617,40.763375,40.759586,40.749212,40.738085,40.734846,40.73292,40.734206,40.735984,40.737687,40.736454,40.734986,40.730845,40.723929,40.702811,40.69392,40.689896,40.687124,40.678153,40.674722,40.673016,40.6812,40.681107,40.672577,40.67039,40.691404,40.691511,40.692418,40.687519,40.685927,40.68404,40.683315,40.678709,40.654538,40.650766,40.646823,40.642123,40.638105,40.636784,40.642385,40.655138,40.649677,40.640624,40.62981,40.62456,40.612154,40.605061,40.600883,40.595068,40.582254,40.57521,40.572533,40.563199,40.558374,40.550168,40.537671,40.531714,40.534503,40.533883,40.543419,40.5363,40.532972,40.539661,40.525595,40.515026,40.505156,40.498751,40.47856,40.464977,40.442219,40.436954,40.439392,40.413058,40.405154,40.390942,40.38646,40.375676,40.373078,40.366943,40.360604,40.358103,40.350626,40.34291,40.332343,40.313888,40.304246,40.302029,40.297641,40.294986,40.291857,40.288482,40.282631,40.278963,40.275289,40.269676,40.259244,40.258122,40.257516,40.25505,40.248006,40.242401,40.234139,40.245467,40.263698,40.266993,40.279074,40.285448,40.285163,40.271608,40.260588,40.247139,40.237756,40.225957,40.214485,40.207234,40.200289,40.198025,40.186286,40.173165,40.166168,40.157885]},{"lng":[-3.367907,-3.363807,-3.364102,-3.373043,-3.373646,-3.380105,-3.381983,-3.371578,-3.367907],"lat":[40.631488,40.632656,40.637812,40.638512,40.635246,40.632815,40.630431,40.625729,40.631488]}],[{"lng":[-4.319344,-4.323343,-4.314682,-4.288231,-4.274165,-4.268019,-4.254677,-4.25629,-4.286798,-4.319344],"lat":[40.647599,40.657423,40.667199,40.680606,40.677089,40.67448,40.662146,40.65212,40.652705,40.647599]}],[{"lng":[-3.200598,-3.200993,-3.205173,-3.207293,-3.205599,-3.200598],"lat":[40.061852,40.059538,40.059469,40.061366,40.06261,40.061852]}]]],null,"Polygon",{"interactive":true,"className":"","stroke":true,"color":null,"weight":5,"opacity":0.5,"fill":true,"fillColor":"red","fillOpacity":0.2,"smoothFactor":1,"noClip":false},null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addWMSTiles","args":["https://servicios.idee.es/wms-inspire/transportes",null,"Railway",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"transparent":"true","format":"image/png","attribution":"Sistema Geogr&aacute;fico Nacional <a href='http://www.scne.es'>SCNE<\/a>","layers":"TN.RailTransportNetwork.RailwayLink"}]},{"method":"addLayersControl","args":[[],["Polygon","Railway"],{"collapsed":true,"autoZIndex":true,"position":"topright"}]},{"method":"addLayersControl","args":[[],["Polygon","Railway"],{"collapsed":false,"autoZIndex":true,"position":"topright"}]}],"limits":{"lat":[39.884763,41.165797],"lng":[-4.579076,-3.052825]}},"evals":[],"jsHooks":[]}</script>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Diego Hernangómez.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
